(this["webpackJsonpraster-react-canvas2"]=this["webpackJsonpraster-react-canvas2"]||[]).push([[14],{183:function(e,a,t){},306:function(e,a,t){"use strict";t.r(a);var c=t(32),n=t(16),i=t(247),l=t(5),s=t(17),o=t(12),r=t(3),d=t(25),u=t(0),m=t.n(u),v=t(74),b=t(80),h={c56:{ine:"2",id:"c2",name_s:"Albacete",name:"Albacete",ccaa:"Castilla - La Mancha",ccaa_es:"CM",abv:"AB",abv2:"AB",cell:56},c57:{ine:"3",id:"c3",name_s:"Alicante",name:"Alicante/Alacant",ccaa:"Comunitat Valenciana",ccaa_es:"VC",abv:"A",abv2:"A",cell:57},c76:{ine:"4",id:"c4",name_s:"Almer\xeda",name:"Almer\xeda",ccaa:"Andaluc\xeda",ccaa_es:"AN",abv:"AL",abv2:"AL",cell:76},c15:{ine:"1",id:"c1",name_s:"Araba",name:"Araba/\xc1lava",ccaa:"Pa\xeds Vasco",ccaa_es:"PV",abv:"VI",abv2:"AR",cell:15},c2:{ine:"33",id:"c33",name_s:"Asturias",name:"Asturias",ccaa:"Asturias",ccaa_es:"AS",abv:"O",abv2:"AS",cell:2},c44:{ine:"5",id:"c5",name_s:"\xc1vila",name:"\xc1vila",ccaa:"Castilla y Le\xf3n",ccaa_es:"CL",abv:"AV",abv2:"AV",cell:44},c53:{ine:"6",id:"c6",name_s:"Badajoz",name:"Badajoz",ccaa:"Extremadura",ccaa_es:"EX",abv:"BA",abv2:"BA",cell:53},c49:{ine:"7",id:"c7",name_s:"Balears",name:"Balears, Illes",ccaa:"Illes Balears",ccaa_es:"IB",abv:"IB",abv2:"IB",cell:49},c29:{ine:"8",id:"c8",name_s:"Barcelona",name:"Barcelona",ccaa:"Catalu\xf1a",ccaa_es:"CT",abv:"B",abv2:"B",cell:29},c4:{ine:"48",id:"c48",name_s:"Bizkaia",name:"Bizkaia",ccaa:"Pa\xeds Vasco",ccaa_es:"PV",abv:"BI",abv2:"BI",cell:4},c14:{ine:"9",id:"c9",name_s:"Burgos",name:"Burgos",ccaa:"Castilla y Le\xf3n",ccaa_es:"CL",abv:"BU",abv2:"BU",cell:14},c43:{ine:"10",id:"c10",name_s:"C\xe1ceres",name:"C\xe1ceres",ccaa:"Extremadura",ccaa_es:"EX",abv:"CC",abv2:"CC",cell:43},c73:{ine:"11",id:"c11",name_s:"C\xe1diz",name:"C\xe1diz",ccaa:"Andaluc\xeda",ccaa_es:"AN",abv:"CA",abv2:"CA",cell:73},c3:{ine:"39",id:"c39",name_s:"Cantabria",name:"Cantabria",ccaa:"Cantabria",ccaa_es:"CB",abv:"S",abv2:"CN",cell:3},c37:{ine:"12",id:"c12",name_s:"Castell\xf3n",name:"Castell\xf3n/Castell\xf3",ccaa:"Comunitat Valenciana",ccaa_es:"VC",abv:"CS",abv2:"CS",cell:37},c54:{ine:"13",id:"c13",name_s:"Ciudad Real",name:"Ciudad Real",ccaa:"Castilla - La Mancha",ccaa_es:"CM",abv:"CR",abv2:"CR",cell:54},c65:{ine:"14",id:"c14",name_s:"C\xf3rdoba",name:"C\xf3rdoba",ccaa:"Andaluc\xeda",ccaa_es:"AN",abv:"CO",abv2:"CO",cell:65},c0:{ine:"15",id:"c15",name_s:"A Coru\xf1a",name:"Coru\xf1a, A",ccaa:"Galicia",ccaa_es:"GA",abv:"C",abv2:"C",cell:0},c46:{ine:"16",id:"c16",name_s:"Cuenca",name:"Cuenca",ccaa:"Castilla - La Mancha",ccaa_es:"CM",abv:"CU",abv2:"CU",cell:46},c5:{ine:"20",id:"c20",name_s:"Gipuzkoa",name:"Gipuzkoa",ccaa:"Pa\xeds Vasco",ccaa_es:"PV",abv:"SS",abv2:"G",cell:5},c19:{ine:"17",id:"c17",name_s:"Girona",name:"Girona",ccaa:"Catalu\xf1a",ccaa_es:"CT",abv:"GI",abv2:"GI",cell:19},c75:{ine:"18",id:"c18",name_s:"Granada",name:"Granada",ccaa:"Andaluc\xeda",ccaa_es:"AN",abv:"GR",abv2:"GR",cell:75},c35:{ine:"19",id:"c19",name_s:"Guadalajara",name:"Guadalajara",ccaa:"Castilla - La Mancha",ccaa_es:"CM",abv:"GU",abv2:"GU",cell:35},c63:{ine:"21",id:"c21",name_s:"Huelva",name:"Huelva",ccaa:"Andaluc\xeda",ccaa_es:"AN",abv:"H",abv2:"H",cell:63},c17:{ine:"22",id:"c22",name_s:"Huesca",name:"Huesca",ccaa:"Arag\xf3n",ccaa_es:"AR",abv:"HU",abv2:"HU",cell:17},c66:{ine:"23",id:"c23",name_s:"Ja\xe9n",name:"Ja\xe9n",ccaa:"Andaluc\xeda",ccaa_es:"AN",abv:"J",abv2:"J",cell:66},c12:{ine:"24",id:"c24",name_s:"Le\xf3n",name:"Le\xf3n",ccaa:"Castilla y Le\xf3n",ccaa_es:"CL",abv:"LE",abv2:"LE",cell:12},c18:{ine:"25",id:"c25",name_s:"Lleida",name:"Lleida",ccaa:"Catalu\xf1a",ccaa_es:"CT",abv:"L",abv2:"L",cell:18},c1:{ine:"27",id:"c27",name_s:"Lugo",name:"Lugo",ccaa:"Galicia",ccaa_es:"GA",abv:"LU",abv2:"LU",cell:1},c45:{ine:"28",id:"c28",name_s:"Madrid",name:"Madrid",ccaa:"Comunidad de Madrid",ccaa_es:"MD",abv:"M",abv2:"M",cell:45},c74:{ine:"29",id:"c29",name_s:"M\xe1laga",name:"M\xe1laga",ccaa:"Andaluc\xeda",ccaa_es:"AN",abv:"MA",abv2:"MA",cell:74},c67:{ine:"30",id:"c30",name_s:"Murcia",name:"Murcia",ccaa:"Regi\xf3n de Murcia",ccaa_es:"MC",abv:"MU",abv2:"MU",cell:67},c16:{ine:"31",id:"c31",name_s:"Navarra",name:"Navarra",ccaa:"Comunidad Foral de Navarra",ccaa_es:"NC",abv:"NA",abv2:"NA",cell:16},c11:{ine:"32",id:"c32",name_s:"Ourense",name:"Ourense",ccaa:"Galicia",ccaa_es:"GA",abv:"OU",abv2:"OU",cell:11},c13:{ine:"34",id:"c34",name_s:"Palencia",name:"Palencia",ccaa:"Castilla y Le\xf3n",ccaa_es:"CL",abv:"P",abv2:"P",cell:13},c91:{ine:"35",id:"c35",name_s:"Las Palmas",name:"Palmas, Las",ccaa:"Canarias",ccaa_es:"CN",abv:"GC",abv2:"GC",cell:91},c10:{ine:"36",id:"c36",name_s:"Pontevedra",name:"Pontevedra",ccaa:"Galicia",ccaa_es:"GA",abv:"PO",abv2:"PO",cell:10},c26:{ine:"26",id:"c26",name_s:"La Rioja",name:"Rioja, La",ccaa:"La Rioja",ccaa_es:"LR",abv:"LO",abv2:"LR",cell:26},c33:{ine:"37",id:"c37",name_s:"Salamanca",name:"Salamanca",ccaa:"Castilla y Le\xf3n",ccaa_es:"CL",abv:"SA",abv2:"SA",cell:33},c90:{ine:"38",id:"c38",name_s:"Tenerife",name:"Santa Cruz de Tenerife",ccaa:"Canarias",ccaa_es:"CN",abv:"TF",abv2:"TF",cell:90},c34:{ine:"40",id:"c40",name_s:"Segovia",name:"Segovia",ccaa:"Castilla y Le\xf3n",ccaa_es:"CL",abv:"SG",abv2:"SG",cell:34},c64:{ine:"41",id:"c41",name_s:"Sevilla",name:"Sevilla",ccaa:"Andaluc\xeda",ccaa_es:"AN",abv:"SE",abv2:"SE",cell:64},c25:{ine:"42",id:"c42",name_s:"Soria",name:"Soria",ccaa:"Castilla y Le\xf3n",ccaa_es:"CL",abv:"SO",abv2:"SO",cell:25},c28:{ine:"43",id:"c43",name_s:"Tarragona",name:"Tarragona",ccaa:"Catalu\xf1a",ccaa_es:"CT",abv:"T",abv2:"T",cell:28},c36:{ine:"44",id:"c44",name_s:"Teruel",name:"Teruel",ccaa:"Arag\xf3n",ccaa_es:"AR",abv:"TE",abv2:"TE",cell:36},c55:{ine:"45",id:"c45",name_s:"Toledo",name:"Toledo",ccaa:"Castilla - La Mancha",ccaa_es:"CM",abv:"TO",abv2:"TO",cell:55},c47:{ine:"46",id:"c46",name_s:"Valencia",name:"Valencia/Val\xe8ncia",ccaa:"Comunitat Valenciana",ccaa_es:"VC",abv:"V",abv2:"V",cell:47},c24:{ine:"47",id:"c47",name_s:"Valladolid",name:"Valladolid",ccaa:"Castilla y Le\xf3n",ccaa_es:"CL",abv:"VA",abv2:"VA",cell:24},c23:{ine:"49",id:"c49",name_s:"Zamora",name:"Zamora",ccaa:"Castilla y Le\xf3n",ccaa_es:"CL",abv:"ZA",abv2:"ZA",cell:23},c27:{ine:"50",id:"c50",name_s:"Zaragoza",name:"Zaragoza",ccaa:"Arag\xf3n",ccaa_es:"AR",abv:"Z",abv2:"Z",cell:27},c83:{ine:"51",id:"c51",name_s:"Ceuta",name:"Ceuta",ccaa:"Ceuta",ccaa_es:"CE",abv:"CE",abv2:"CE",cell:83},c84:{ine:"52",id:"c52",name_s:"Melilla",name:"Melilla",ccaa:"Melilla",ccaa_es:"ME",abv:"ML",abv2:"ML",cell:84}},f=[{value:"cases_accumulated",label:"Cases",label_es:"Casos",desc:"Cases (cumulative).",desc_es:"Casos (acumulado).",max:9e4},{value:"new_cases",label:"New cases reported",label_es:"Nuevos casos",desc:"New cases.",desc_es:"Nuevos casos.",max:2e3},{value:"deceased",label:"Deaths",label_es:"Muertos",desc:"Deaths (cumulative).",desc_es:"Muertes (acumulado).",max:1e4},{value:"activos",label:"Active cases",label_es:"Casos activos",desc:"Active cases.",desc_es:"Casos activos.",max:1e4},{value:"recovered",label:"Recovered",label_es:"Recuperados",desc:"Recovered (cumulative).",desc_es:"Recuperados (acumulado).",max:7e3},Object(n.a)({value:"hospitalized",label:"Hospitalized",label_es:"Hospitalizados",max:1e3,desc:m.a.createElement("p",null,"Hospitalized."," ",m.a.createElement("a",{href:"https://github.com/montera34/escovid19data/wiki#hospitalizados",title:"Wiki",target:"_blank",rel:"noopener noreferrer"},"Mix of cumulative and daily.")),desc_es:m.a.createElement("p",null,"Hospitalizados.",m.a.createElement("a",{href:"https://github.com/montera34/escovid19data/wiki#hospitalizados",title:"Wiki",target:"_blank",rel:"noopener noreferrer"},"Mezcla acumulados y diarios."))},"max",8e4),{value:"intensive_care",label:"Intensive care",label_es:"Cuidados intensivos",desc:"Intensive care patients. Cumulative.",desc_es:"Pacientes UCI. Acumulado.",max:6e3},{value:"daily_cases",label:"Daily cases",label_es:"Casos diarios",desc:"Daily cases. Calculated.",desc_es:"Casos diarios. Calculado.",max:4e3},{value:"daily_cases_avg7",label:"Daily cases avg 7 days",label_es:"Casos diarios media 7 d.",desc:"Average daily cases in the last 7 days.",desc_es:"Media de casos diarios en la \xfaltima semana.",max:5e3},{value:"cases_per_cienmil",label:"Cases per 100K",label_es:"Casos por 100k hab.",desc:"Cumulative cases per 100,000 inhabitants.",desc_es:"Casos por cada 100.000 habitantes (acumulado).",max:3e3},{value:"intensive_care_per_1000000",label:"Intensive care per 1M",label_es:"UCI por 1m hab.",desc:"Cumulative cases per 1,000,000 inhabitants.",desc_es:"Pacientes UCI. Casos por cada 1.000.000 habitantes (acumulado).",max:60},{value:"deceassed_per_100000",label:"Deaths per 100K",label_es:"Muertos por 100k hab.",desc:"Cumulative deaths per 100,000 inhabitants.",desc_es:"Muertes por cada 100.000 habitantes (acumulado).",max:250},{value:"daily_deaths",label:"Daily deaths",label_es:"Muertes diarias",desc:"Reported daily deaths.",desc_es:"Muertes diarias reportadas (calculado).",max:500},{value:"daily_deaths_inc",label:"Daily deaths inc.",label_es:"Muertes diarias inc.",desc:"Daily deaths. Calculated as the percentage from last day (cumulative).",desc_es:"Incremento porcentual de muertes sobre el d\xeda anterior.",max:1e3},{value:"daily_deaths_avg3",label:"Daily deaths avg. 3 days",label_es:"Media muertes 3 d.",desc:"Average daily deaths in the last 3 days.",desc_es:"Media de muertes diarias en los \xfaltimos 3 d\xedas.",max:500},{value:"daily_deaths_avg7",label:"Daily deaths avg. 7 days",label_es:"Media muertes 7 d.",desc:"Average daily deaths in the last 7 days.",desc_es:"Media de muertes diarias en los \xfaltimos 7 d\xedas.",max:500},{value:"deaths_last_week",label:"Deaths last week",label_es:"Muertes \xfaltima semana",desc:"Deaths in the last 7 d.",desc_es:"Muertes en la \xfaltima semana.",max:2500}],g=t(248),p=t(90),_=t(87),y=t(19),C=t(13),x=t(91),E=t(264),w=t(143),O=t(286),A=t(279),j=t(163),L=t(113),k=t(291),S=t(295),M=t(297),D=t(293),N=t(301),z=t(307),B=t(287),T=t(288),G=t(294),R=t(315),P=t(296),V=t(292),I=t(20),U=(t(183),a.default=function(){var e=Object(p.a)(),a=Object(u.useMemo)((function(){return function(e){for(var a=e/10,t=-1,c=[],n=0;n<10;n++)for(var i=0;i<10;i++){var l={x:i*a,y:n*a},s=n,o=i,r={x:i*a+a/2,y:n*a+a/2};t++,h["c".concat(t)]&&c.push(Object(d.a)({id:t,position:l,center:r,row:s+1,column:o+1,cellSize:a},h["c".concat(t)]))}return c}(e)}),[e]),t=Object(v.a)({polyfill:b.a}),c=Object(r.a)(t,2),n=c[0],i=c[1],L=(i.width,i.height,Object(u.useState)(null)),k=Object(r.a)(L,2),S=k[0],M=k[1],D=Object(u.useState)(null),N=Object(r.a)(D,2),z=N[0],B=N[1],T=Object(u.useState)(!1),G=Object(r.a)(T,2),R=G[0],P=G[1],V=Object(u.useState)("cases_accumulated"),I=Object(r.a)(V,2),H=I[0],J=I[1],K=Object(u.useState)(!0),X=Object(r.a)(K,2),q=X[0],Q=X[1],Y=Object(u.useState)(null),$=Object(r.a)(Y,2),ee=$[0],ae=$[1],te=Object(u.useState)(!1),ce=Object(r.a)(te,2),ne=ce[0],ie=ce[1],le=Object(u.useState)(new Date("2020-02-20")),se=Object(r.a)(le,2),oe=se[0],re=(se[1],Object(u.useContext)(y.b).dark),de=Object(u.useContext)(C.c).language,ue=de.isEnglish,me=Object(_.b)(),ve=function(){Q(!q)},be=Intl.PluralRules&&new Intl.RelativeTimeFormat(de.id,{numeric:"auto"}),he=function(e){ie(!0),ae(e)},fe=e/10;Object(u.useEffect)((function(){fetch("https://raw.githubusercontent.com/montera34/escovid19data/master/data/output/covid19-provincias-spain_consolidated.csv").then((function(e){return e.ok?e.text():Promise.reject(e.status)})).then((function(e){return Object(g.a)(e)})).then((function(e){var a=e.reduce((function(e,a,t,c){var n,i=a.ine_code;return a.date,e["c".concat(i)]?e["c".concat(i)].data=[].concat(Object(o.a)(e["c".concat(i)].data),[a]):(Object.keys(h).forEach((function(e){h[e].ine===i&&(n=Object(d.a)({},h[e]))})),e["c".concat(i)]={data:[a],meta:n,firstDate:a.date}),e}),{});M(a),P(!0)})).catch((function(e){console.log(e)})),fetch("https://api.github.com/repos/montera34/escovid19data/branches/master").then((function(e){return e.ok?e.json():Promise.reject(e.status)})).then((function(e){B({author:e.commit.author.login,date:e.commit.commit.author.date})})).catch((function(e){console.log(e)}))}),[]);var ge=Object(E.a)().domain([oe,new Date]).range([0,fe]),pe=function(){return f.find((function(e){return e.value===H})).max},_e=Object(w.a)().domain([0,pe()]).range([fe,0]),ye=Object(O.a)().domain([.1,pe()]).range([fe,0]),Ce={bg:re?"RGBA(228, 230, 234, 0.20)":"RGBA(228, 230, 234, 1.00)",main:re?"RGBA(238, 174, 146, 1.00)":"RGBA(226, 80, 59, 1.00)",lightColor:re?"RGBA(75, 76, 78, 1.00)":"RGBA(214, 214, 214, 1.00)"},xe=function(){function e(a){var t=a.x;Object(l.a)(this,e),this.id=t.id,this.position=t.position,this.center=t.center,this.row=t.row,this.column=t.column,this.cellSize=t.cellSize,this.cell=t.cell,this.name=t.name,this.ine=t.ine,this.data=S&&S[t.id]}return Object(s.a)(e,[{key:"draw",value:function(e){var a,t=this;e.fillStyle=Ce.bg,e.fillRect(ge(new Date)+this.position.x,this.position.y,fe-ge(new Date),fe);var c=Object(A.a)().y0(this.position.y+fe).curve(j.a).context(e),n=null===(a=this.data)||void 0===a?void 0:a.data.filter((function(e){return"0"!==e[H]&&!isNaN(parseFloat(e[H]))&&isFinite(e[H])}));e.fillStyle=Ce.lightColor,e.font="".concat(fe/5,"px Inter"),e.beginPath(),e.textAlign="center",e.textBaseline="middle",n.length>2?c(n.map((function(e,a){return 1,[ge(new Date(e.date))+t.position.x,q?ye(e[H])+t.position.y:_e(e[H])+t.position.y]}))):e.fillText("".concat(ue?"N/A":"N/D"),this.center.x,this.center.y+10),e.closePath(),e.fill()}},{key:"update",value:function(e){this.draw(e)}},{key:"animate",value:function(e){this.draw(e)}}]),e}(),Ee=[],we=function(t,c){R&&a.forEach((function(e,a){Ee.push(new xe({x:e}))})),c.clearRect(0,0,e,e),Ee.forEach((function(e){return e.update(c)}))};return m.a.createElement("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},m.a.createElement("div",{ref:n,style:{position:"relative",margin:"0 auto",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},m.a.createElement(U,{changeVisible:function(e){J(e)},commit:z,isEnglish:ue,language:de,rtf:be,changeLog:ve,isLog:q,cellSize:fe}),ee&&m.a.createElement(Z,{commit:z,rtf:be,visible:H,size:e,selected:ee,colors:Ce,isOpen:ne,setIsOpen:ie,dark:re,data:S,isLog:q,changeLog:ve,startDate:oe}),m.a.createElement("svg",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"visible",zIndex:1},width:"".concat(e,"px"),height:"".concat(e,"px"),viewBox:"0 0 ".concat(e," ").concat(e)},a.map((function(e){return m.a.createElement(W,{colors:Ce,isTouch:me,key:"cartoSvg".concat(e.id),carto:e,select:he,data:S,isLoaded:R,visible:H})})),m.a.createElement(F,{marginLeft:10,colors:Ce,changeLog:ve,isLog:q,cellSize:fe,visible:H,isEnglish:ue,startDate:oe})),m.a.createElement(x.a,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"visible"},draw:function(e,a){we(0,a)},width:e,height:e})))},function(e){var a=e.changeVisible,t=e.isEnglish;return m.a.createElement("div",{className:"menuPanel"},m.a.createElement(H,{options:f,changeVisible:a,isEnglish:t}))}),F=function(e){var a=e.isLog,t=e.cellSize,c=e.row,n=void 0===c?0:c,l=e.column,s=void 0===l?5:l,o=e.visible,r=e.isEnglish,d=e.colors,u=e.changeLog,v=e.marginLeft,b=e.startDate,h={x:t*n,y:t*s},g=f.find((function(e){return e.value===o})).max,p=Object(B.a)({range:[t,0],domain:[0,g],nice:!0}),_=Object(T.a)({range:[t,0],domain:[.1,g],nice:!0}),y=Object(B.a)({domain:[new Date(b),new Date],range:[0,t]});return m.a.createElement("g",null,m.a.createElement("rect",{stroke:"var(--foreground-color)",fill:"var(--foreground-color)",opacity:"0.2",x:h.x+v,y:h.y,width:t,height:t}),m.a.createElement(z.a,{top:h.y,left:h.x+v,xScale:y,yScale:a?_:p,stroke:"var(--background-color)",width:t,height:t,numTicksRows:4,numTicksColumns:0}),m.a.createElement(k.a,{top:h.y,left:h.x+t+v,scale:a?_:p,numTicks:2,stroke:"var(--foreground-color)",tickStroke:"var(--foreground-color)",tickLabelProps:function(e,a){return{fill:"var(--foreground-color)",textAnchor:"start",dx:"1em",dy:"0.25em"}},tickFormat:function(e){return e},tickComponent:function(e){var a=e.formattedValue,t=Object(i.a)(e,["formattedValue"]);return m.a.createElement("text",Object.assign({style:{fontSize:"0.7em"}},t),a)}}),m.a.createElement("circle",{cx:h.x+12+v,cy:h.y+t+25,r:10,stroke:"var(--foreground-color)",fill:"none",strokeWidth:"1px"}),a&&m.a.createElement("circle",{cx:h.x+12+v,cy:h.y+t+25,r:4,fill:d.main}),m.a.createElement("text",{style:{pointerEvents:"none",fill:"var(--foreground-color)",dominantBaseline:"hanging",fontSize:"0.8em"},x:h.x+32+v,y:h.y+t+20,fontSize:"22"},r&&"Use log",!r&&"Escala"),m.a.createElement("text",{style:{pointerEvents:"none",fill:"var(--foreground-color)",dominantBaseline:"hanging",fontSize:"0.8em"},x:h.x+32+v,y:h.y+t+38,fontSize:"22"},r&&"scale",!r&&"log."),m.a.createElement("rect",{style:{cursor:"pointer"},onClick:function(){return u()},className:"hitRect",fill:"transparent",x:h.x,y:h.y,width:t+50,height:t+50}))},H=function(e){var a=e.options,t=e.changeVisible,c=e.isEnglish,n=a;return m.a.createElement("div",null,m.a.createElement("select",{className:"select-css",onChange:function(e){e.preventDefault(),t(e.currentTarget.value)}},n.map((function(e){return m.a.createElement("option",{key:e.value,value:e.value},c?e.label:e.label_es)}))))},W=function(e){var a=e.carto,t=e.select,c=e.isLoaded,n=e.colors,i=a.id,l=a.center,s=a.position,o=a.cellSize,r=a.abv,d=a.name_s;return m.a.createElement("g",{key:"cartoSvg".concat(i)},m.a.createElement("rect",{onClick:function(){return t(a)},style:{cursor:"pointer"},id:"cartoSvg".concat(i),x:s.x,y:s.y,width:o,height:o,fill:"transparent",stroke:"gray"}),m.a.createElement("text",{style:{pointerEvents:"none",fill:"var(--foreground-color)",dominantBaseline:"hanging",fontSize:"0.8em"},x:s.x+6,y:s.y+6,fontSize:"55"},o<80?r:d),!c&&m.a.createElement("circle",{cx:l.x,cy:l.y,r:o/7,fill:n.lightColor}))},Z=function(e){var a,t=e.commit,c=e.rtf,i=e.visible,l=e.selected,s=e.isOpen,h=e.setIsOpen,g=e.size,p=e.colors,_=(e.dark,e.data),y=e.isLog,x=e.changeLog,E=e.startDate,w=l.ccaa_es,O=l.name_s,A=Object(v.a)({polyfill:b.a}),j=Object(r.a)(A,2),L=j[0],k=j[1],S=Object(u.useContext)(C.c).language,M=S.isEnglish,D=Object(I.b)({opacity:s?1:0,pointerEvents:s?"auto":"none"}),N=f.find((function(e){return e.value===i})),z=Object(u.useMemo)((function(){return _[l.id].data.filter((function(e){return!isNaN(parseFloat(e[i]))&&isFinite(e[i])}),[i,_])})),B=Object(u.useMemo)((function(){return Math.max.apply(Math,Object(o.a)(z.map((function(e){return+e[i]}))))}),[z]),T=Object(u.useMemo)((function(){return z.find((function(e){return+e[i]===B}))}),[z]);return m.a.createElement(I.a.div,{className:"tooltip",style:Object(d.a)(Object(d.a)({},D),{},Object(n.a)({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"visible",zIndex:2,background:"var(--background-color)",border:"1px solid var(--foreground-color)",width:"calc(100% - 40px)",height:"400px"},"overflow","hidden")),width:"".concat(g,"px"),height:"".concat(g,"px")},m.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50px",borderBottom:"1px solid var(--foreground-color)"}},m.a.createElement("p",{style:{margin:0,padding:"1em"},className:"h4"},O,m.a.createElement("span",{style:{fontWeight:400,fontSize:"85%",letterSpacing:"0.1em"}}," ","| ",w)),m.a.createElement("div",{className:"covid_close",onClick:function(){return h(!s)},style:(a={cursor:"pointer",height:"100%",marginLeft:"auto",width:"50px"},Object(n.a)(a,"height","50px"),Object(n.a)(a,"background","var(--foreground-color)"),Object(n.a)(a,"display","flex"),Object(n.a)(a,"justifyContent","center"),Object(n.a)(a,"alignItems","center"),a)},m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:32,height:32,"aria-hidden":"true"},m.a.createElement("path",{fill:"var(--background-color)",strokeWidth:"1",stroke:"var(--background-color)",d:"M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4l6.6 6.6L8 22.6 9.4 24l6.6-6.6 6.6 6.6 1.4-1.4-6.6-6.6L24 9.4z"})))),m.a.createElement("div",{ref:L,className:"tooltip",style:{margin:"1em",height:"250px"}},m.a.createElement("div",{className:"keyCanvas",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"}},m.a.createElement("p",{style:{margin:0,padding:0,flexBasis:"80%"}},M?null===N||void 0===N?void 0:N.desc:null===N||void 0===N?void 0:N.desc_es),m.a.createElement("p",{style:{textAlign:"right"}},m.a.createElement("span",null,!isNaN(parseFloat(B))&&isFinite(B)?new Date(T.date).toLocaleDateString(M?"en-GB":"es-ES",{month:"short",day:"numeric"}):""),m.a.createElement("br",null),m.a.createElement("strong",null,!isNaN(parseFloat(B))&&isFinite(B)?B:""))),m.a.createElement(K,{isLog:y,changeLog:x,width:k.width,height:k.height,selected:l,colors:p,isEnglish:M,data:_,visible:i,startDate:E,filteredData:z,newMax:B,newMaxDate:T})),m.a.createElement("div",{className:"notes",style:{margin:"4em 1em 0 1em",fontSize:"80%"}},(null===t||void 0===t?void 0:t.date)&&(null===t||void 0===t?void 0:t.author)&&m.a.createElement("p",null,m.a.createElement(J,{commit:t,isEnglish:M,language:S,rtf:c,width:k.width}))))},J=function(e){var a=e.commit,t=e.isEnglish,n=e.language,i=e.rtf,l=e.width,s=[["year",31536e6],["month",2628e6],["day",864e5],["hour",36e5],["minute",6e4],["second",1e3]];return m.a.createElement("span",null,m.a.createElement("a",{href:"https://github.com/montera34/escovid19data",title:"Escovid19 data",target:"_blank",rel:"noopener noreferrer"},"Escovid19data"),"."," ",l>400&&m.a.createElement(m.a.Fragment,null,t?"Updated by ":"Actualizado por "," ",null===a||void 0===a?void 0:a.author," ",Intl.PluralRules?function(e){var a,t=Object(c.a)(s);try{for(t.s();!(a=t.n()).done;){var n=Object(r.a)(a.value,2),l=n[0],o=n[1];if(Math.abs(e)>o||"second"===l)return i.format(Math.round(e/o),l)}}catch(d){t.e(d)}finally{t.f()}}(new Date(a.date)-new Date):new Date(a.date).toLocaleString(n.id).split(" ")[0].replace(",",""),"."))},K=function(e){var a=e.width,t=e.height,c=(e.selected,e.colors),n=e.isEnglish,i=(e.data,e.visible),l=e.isLog,s=e.changeLog,o=e.startDate,r=e.filteredData,d=e.newMax,v=e.newMaxDate,b=40,h=50,f=t-b-60,g=a-h-0,p=Object(B.a)({domain:[new Date(o),new Date],range:[0,g]}),_=Object(B.a)({range:[f,0],domain:[0,d],nice:!0}),y=Object(T.a)({range:[f,0],domain:[.1,d],clamp:!0,nice:!0}),C=function(e){return new Date(e.date)},x=function(e){return+e[i]},E=Object(L.a)((function(e){return new Date(e.date)})).left,w=Object(D.a)(),O=w.tooltipData,A=w.tooltipLeft,k=w.tooltipTop,I=(w.tooltipOpen,w.showTooltip),U=w.hideTooltip,F=Object(u.useRef)(),H=function(e){var a,t,c=Object(N.a)(e.target.ownerSVGElement,e);if(c.x){var n=c.x,s=p.invert(n-h),o=E(r,s,1),d=r[o-1],u=r[o],m=d;u&&u.date&&(m=s-C(d.date)>C(u.date)-s?u:d),I({tooltipData:m,tooltipLeft:n,tooltipTop:l?y(null===(a=m)||void 0===a?void 0:a[i]):_(null===(t=m)||void 0===t?void 0:t[i])})}};return m.a.createElement("div",{style:{position:"relative"}},m.a.createElement("svg",{ref:F,style:{overflow:"visible"},viewBox:"0 0 ".concat(a," ").concat(t)},m.a.createElement("defs",null,m.a.createElement("linearGradient",{id:"grad1",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},m.a.createElement("stop",{className:"stop1",offset:"0%",stopColor:"var(--background-color)",stopOpacity:0}),m.a.createElement("stop",{className:"stop2",offset:"20%",stopColor:"var(--background-color)",stopOpacity:1}),m.a.createElement("stop",{className:"stop2",offset:"80%",stopColor:"var(--background-color)",stopOpacity:1}),m.a.createElement("stop",{className:"stop3",offset:"100%",stopColor:"var(--background-color)",stopOpacity:0}))),!isNaN(parseFloat(d))&&isFinite(d)&&m.a.createElement(G.a,{data:[[a,10],[p(new Date(v.date))+h,10],[p(new Date(v.date))+h,l?y(d)+b:_(d)+b]],x:function(e){return e[0]},y:function(e){return e[1]},stroke:"var(--foreground-color)",style:{opacity:.5},strokeWidth:1}),m.a.createElement("g",{style:{transform:"translate(".concat(h,"px, ").concat(b,"px)")}},m.a.createElement(z.a,{xScale:p,yScale:l?y:_,stroke:c.lightColor,width:g,height:f,numTicksRows:4,numTicksColumns:0,columnLineStyle:{pointerEvents:"none"},lineStyle:{pointerEvents:"none"}}),r&&m.a.createElement(R.a,{data:r,x:function(e){return p(C(e))},y:function(e){return l?y(x(e)):_(x(e))},yScale:l?y:_,fill:c.lightColor,curve:j.a}),m.a.createElement(S.a,{scale:l?y:_,hideAxisLine:!0,hideTicks:!0,numTicks:d<20?1:3,tickLabelProps:function(e,a){return{textAnchor:"end",dy:5,fill:"var(--foreground-color)",style:{fontSize:"0.8em"}}},tickFormat:function(e){return e}}),r.length<2&&m.a.createElement("text",{dy:-10,x:g/2,y:f/2,style:{textAnchor:"middle",fontSize:"1.8em"},fill:"var(--foreground-color)"},n?"N/A":"N/D"),m.a.createElement(P.a,{onClick:function(){return s()},style:{cursor:"pointer"},x:-h,y:0,width:h,height:f,fill:"transparent",data:r}),m.a.createElement(M.a,{top:f,tickFormat:function(e){return new Date(e).toLocaleDateString(n?"en-GB":"es-ES",{month:"short",day:"numeric"})},numTicks:a>550?8:3,scale:p,stroke:"var(--foreground-color)",tickStroke:"var(--foreground-color)",hideAxisLine:!1,tickLabelProps:function(e,a){return{dy:12,fill:"var(--foreground-color)",textAnchor:"middle",style:{fontSize:"0.8em"}}}}),m.a.createElement(P.a,{style:{cursor:"crosshair"},onTouchStart:function(e){return H(e)},onTouchMove:function(e){return U(e)},onMouseMove:function(e){return H(e)},onMouseLeave:function(e){return U(e)},x:0,y:0,width:g,height:f,fill:"transparent",data:r})),O&&m.a.createElement("g",null,m.a.createElement(V.a,{from:{x:A,y:b},to:{x:A,y:f+b},stroke:"var(--foreground-color)",strokeWidth:1,style:{pointerEvents:"none"},strokeDasharray:"2,2"}),m.a.createElement("circle",{cx:A,cy:k+b,r:5,fill:c.main,stroke:"var(--background-color)",strokeWidth:3,style:{pointerEvents:"none"}}),m.a.createElement("rect",{x:A-50,y:16,fill:"url(#grad1)",width:"100px",height:"20px"}),m.a.createElement("text",{dy:-10,x:A,y:b,style:{textAnchor:"middle"},fill:"var(--foreground-color)"},O[i]),m.a.createElement("rect",{x:A-50,y:t-45,fill:"url(#grad1)",width:"100px",height:"20px"}),m.a.createElement("text",{x:A,dy:-30,y:t,style:{textAnchor:"middle",fontSize:"0.8em"},fill:"var(--foreground-color)"},new Date(O.date).toLocaleDateString(n?"en-GB":"es-ES",{month:"long",day:"numeric"})))))}},87:function(e,a,t){"use strict";t.d(a,"a",(function(){return c})),t.d(a,"b",(function(){return n}));var c=void 0!==window.safari,n=function(){return!("undefined"===typeof window||!("ontouchstart"in window||window.DocumentTouch&&"undefined"!==typeof document&&document instanceof window.DocumentTouch))||!("undefined"===typeof navigator||!navigator.maxTouchPoints&&!navigator.msMaxTouchPoints)}},90:function(e,a,t){"use strict";var c=t(3),n=t(0);a.a=function(){var e="object"===typeof window;function a(){return e?window.innerWidth>window.innerHeight?window.innerHeight:window.innerWidth:void 0}var t=Object(n.useState)(a),i=Object(c.a)(t,2),l=i[0],s=i[1];return Object(n.useEffect)((function(){if(!e)return!1;function t(){s(a())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),l}},91:function(e,a,t){"use strict";var c=t(0),n=t.n(c);a.a=function(e){var a=e.width,t=e.height,i=e.draw,l=e.border,s=Object(c.useRef)();return Object(c.useEffect)((function(){var e=s.current,c=e.getContext("2d");!function(e,c){var n=window.devicePixelRatio||1;e.width=a*n,e.height=t*n,e.style.width="".concat(a,"px"),e.style.height="".concat(t,"px"),c.scale(n,n)}(e,c),i(e,c)})),n.a.createElement("canvas",{style:{border:l?"1px solid white":""},ref:s,width:a,height:t})}}}]);
//# sourceMappingURL=14.865dca9d.chunk.js.map